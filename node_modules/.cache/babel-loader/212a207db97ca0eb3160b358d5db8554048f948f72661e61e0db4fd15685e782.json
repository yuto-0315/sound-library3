{"ast":null,"code":"var _jsxFileName = \"/Users/nakataniyuutomo/Desktop/Programing/\\u30BB\\u3099\\u30DF\\u958B\\u767A/sound-library2/src/hooks/useAccessibility.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\n\n/**\n * フォーカス管理フック\n * @param {boolean} shouldFocus - フォーカスすべきかどうか\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const useFocus = (shouldFocus = false) => {\n  _s();\n  const elementRef = useRef(null);\n  useEffect(() => {\n    if (shouldFocus && elementRef.current) {\n      elementRef.current.focus();\n    }\n  }, [shouldFocus]);\n  return elementRef;\n};\n\n/**\n * アナウンスメント用フック（スクリーンリーダー対応）\n */\n_s(useFocus, \"CKe/C9l/PZDcdMrjDfTWxieUegY=\");\nexport const useAnnouncement = () => {\n  _s2();\n  const announcementRef = useRef(null);\n  const announce = (message, priority = 'polite') => {\n    if (announcementRef.current) {\n      announcementRef.current.setAttribute('aria-live', priority);\n      announcementRef.current.textContent = message;\n    }\n  };\n  const AnnouncementRegion = ({\n    className = ''\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: announcementRef,\n    \"aria-live\": \"polite\",\n    \"aria-atomic\": \"true\",\n    className: `sr-only ${className}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n  return {\n    announce,\n    AnnouncementRegion\n  };\n};\n\n/**\n * キーボードナビゲーション用フック\n */\n_s2(useAnnouncement, \"Za/FaZfzkmvrAKyv0HL5OnJz9ME=\");\nexport const useKeyboardNavigation = (items, options = {}) => {\n  _s3();\n  const {\n    loop = true,\n    orientation = 'horizontal',\n    // 'horizontal' or 'vertical'\n    onActivate = () => {}\n  } = options;\n  const currentIndex = useRef(0);\n  const itemRefs = useRef([]);\n  const getKeys = () => {\n    if (orientation === 'vertical') {\n      return {\n        next: ['ArrowDown'],\n        prev: ['ArrowUp'],\n        activate: ['Enter', ' ']\n      };\n    }\n    return {\n      next: ['ArrowRight', 'ArrowDown'],\n      prev: ['ArrowLeft', 'ArrowUp'],\n      activate: ['Enter', ' ']\n    };\n  };\n  const handleKeyDown = event => {\n    const keys = getKeys();\n    const {\n      key\n    } = event;\n    if (keys.next.includes(key)) {\n      event.preventDefault();\n      moveToNext();\n    } else if (keys.prev.includes(key)) {\n      event.preventDefault();\n      moveToPrev();\n    } else if (keys.activate.includes(key)) {\n      event.preventDefault();\n      onActivate(currentIndex.current, items[currentIndex.current]);\n    }\n  };\n  const moveToNext = () => {\n    if (currentIndex.current < items.length - 1) {\n      currentIndex.current += 1;\n    } else if (loop) {\n      currentIndex.current = 0;\n    }\n    focusCurrent();\n  };\n  const moveToPrev = () => {\n    if (currentIndex.current > 0) {\n      currentIndex.current -= 1;\n    } else if (loop) {\n      currentIndex.current = items.length - 1;\n    }\n    focusCurrent();\n  };\n  const focusCurrent = () => {\n    const currentRef = itemRefs.current[currentIndex.current];\n    if (currentRef) {\n      currentRef.focus();\n    }\n  };\n  const getItemProps = index => ({\n    ref: el => {\n      itemRefs.current[index] = el;\n    },\n    tabIndex: index === currentIndex.current ? 0 : -1,\n    onKeyDown: handleKeyDown,\n    onFocus: () => {\n      currentIndex.current = index;\n    }\n  });\n  return {\n    getItemProps,\n    focusCurrent,\n    currentIndex: currentIndex.current\n  };\n};\n\n/**\n * エラーメッセージの管理フック\n */\n_s3(useKeyboardNavigation, \"soRH8aRm62cK25dwbCf8t/z3cLs=\");\nexport const useErrorMessages = () => {\n  _s4();\n  const errorRef = useRef(null);\n  const showError = message => {\n    if (errorRef.current) {\n      errorRef.current.textContent = message;\n      errorRef.current.setAttribute('aria-live', 'assertive');\n    }\n  };\n  const clearError = () => {\n    if (errorRef.current) {\n      errorRef.current.textContent = '';\n      errorRef.current.removeAttribute('aria-live');\n    }\n  };\n  const ErrorRegion = ({\n    className = ''\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: errorRef,\n    role: \"alert\",\n    className: `error-message ${className}`,\n    \"aria-atomic\": \"true\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n  return {\n    showError,\n    clearError,\n    ErrorRegion\n  };\n};\n\n/**\n * 進捗状況の管理フック\n */\n_s4(useErrorMessages, \"MTJZiA6N4zv1OK+VdcqlHROv7Qs=\");\nexport const useProgress = () => {\n  _s5();\n  const progressRef = useRef(null);\n  const updateProgress = (current, total, label = '') => {\n    if (progressRef.current) {\n      const percentage = Math.round(current / total * 100);\n      progressRef.current.setAttribute('aria-valuenow', current);\n      progressRef.current.setAttribute('aria-valuemax', total);\n      progressRef.current.setAttribute('aria-valuetext', `${label} ${percentage}% 完了 (${current} / ${total})`);\n    }\n  };\n  const ProgressBar = ({\n    className = '',\n    label = '進捗'\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: progressRef,\n    role: \"progressbar\",\n    \"aria-label\": label,\n    \"aria-valuenow\": 0,\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100,\n    className: `progress-bar ${className}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n  return {\n    updateProgress,\n    ProgressBar\n  };\n};\n_s5(useProgress, \"QC9VrXiFrJbrDkZWQQIDsdrLJ1o=\");","map":{"version":3,"names":["useEffect","useRef","jsxDEV","_jsxDEV","useFocus","shouldFocus","_s","elementRef","current","focus","useAnnouncement","_s2","announcementRef","announce","message","priority","setAttribute","textContent","AnnouncementRegion","className","ref","fileName","_jsxFileName","lineNumber","columnNumber","useKeyboardNavigation","items","options","_s3","loop","orientation","onActivate","currentIndex","itemRefs","getKeys","next","prev","activate","handleKeyDown","event","keys","key","includes","preventDefault","moveToNext","moveToPrev","length","focusCurrent","currentRef","getItemProps","index","el","tabIndex","onKeyDown","onFocus","useErrorMessages","_s4","errorRef","showError","clearError","removeAttribute","ErrorRegion","role","useProgress","_s5","progressRef","updateProgress","total","label","percentage","Math","round","ProgressBar"],"sources":["/Users/nakataniyuutomo/Desktop/Programing/ゼミ開発/sound-library2/src/hooks/useAccessibility.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\n/**\n * フォーカス管理フック\n * @param {boolean} shouldFocus - フォーカスすべきかどうか\n */\nexport const useFocus = (shouldFocus = false) => {\n  const elementRef = useRef(null);\n\n  useEffect(() => {\n    if (shouldFocus && elementRef.current) {\n      elementRef.current.focus();\n    }\n  }, [shouldFocus]);\n\n  return elementRef;\n};\n\n/**\n * アナウンスメント用フック（スクリーンリーダー対応）\n */\nexport const useAnnouncement = () => {\n  const announcementRef = useRef(null);\n\n  const announce = (message, priority = 'polite') => {\n    if (announcementRef.current) {\n      announcementRef.current.setAttribute('aria-live', priority);\n      announcementRef.current.textContent = message;\n    }\n  };\n\n  const AnnouncementRegion = ({ className = '' }) => (\n    <div\n      ref={announcementRef}\n      aria-live=\"polite\"\n      aria-atomic=\"true\"\n      className={`sr-only ${className}`}\n    />\n  );\n\n  return { announce, AnnouncementRegion };\n};\n\n/**\n * キーボードナビゲーション用フック\n */\nexport const useKeyboardNavigation = (items, options = {}) => {\n  const {\n    loop = true,\n    orientation = 'horizontal', // 'horizontal' or 'vertical'\n    onActivate = () => {},\n  } = options;\n\n  const currentIndex = useRef(0);\n  const itemRefs = useRef([]);\n\n  const getKeys = () => {\n    if (orientation === 'vertical') {\n      return {\n        next: ['ArrowDown'],\n        prev: ['ArrowUp'],\n        activate: ['Enter', ' '],\n      };\n    }\n    return {\n      next: ['ArrowRight', 'ArrowDown'],\n      prev: ['ArrowLeft', 'ArrowUp'],\n      activate: ['Enter', ' '],\n    };\n  };\n\n  const handleKeyDown = (event) => {\n    const keys = getKeys();\n    const { key } = event;\n\n    if (keys.next.includes(key)) {\n      event.preventDefault();\n      moveToNext();\n    } else if (keys.prev.includes(key)) {\n      event.preventDefault();\n      moveToPrev();\n    } else if (keys.activate.includes(key)) {\n      event.preventDefault();\n      onActivate(currentIndex.current, items[currentIndex.current]);\n    }\n  };\n\n  const moveToNext = () => {\n    if (currentIndex.current < items.length - 1) {\n      currentIndex.current += 1;\n    } else if (loop) {\n      currentIndex.current = 0;\n    }\n    focusCurrent();\n  };\n\n  const moveToPrev = () => {\n    if (currentIndex.current > 0) {\n      currentIndex.current -= 1;\n    } else if (loop) {\n      currentIndex.current = items.length - 1;\n    }\n    focusCurrent();\n  };\n\n  const focusCurrent = () => {\n    const currentRef = itemRefs.current[currentIndex.current];\n    if (currentRef) {\n      currentRef.focus();\n    }\n  };\n\n  const getItemProps = (index) => ({\n    ref: (el) => {\n      itemRefs.current[index] = el;\n    },\n    tabIndex: index === currentIndex.current ? 0 : -1,\n    onKeyDown: handleKeyDown,\n    onFocus: () => {\n      currentIndex.current = index;\n    },\n  });\n\n  return {\n    getItemProps,\n    focusCurrent,\n    currentIndex: currentIndex.current,\n  };\n};\n\n/**\n * エラーメッセージの管理フック\n */\nexport const useErrorMessages = () => {\n  const errorRef = useRef(null);\n\n  const showError = (message) => {\n    if (errorRef.current) {\n      errorRef.current.textContent = message;\n      errorRef.current.setAttribute('aria-live', 'assertive');\n    }\n  };\n\n  const clearError = () => {\n    if (errorRef.current) {\n      errorRef.current.textContent = '';\n      errorRef.current.removeAttribute('aria-live');\n    }\n  };\n\n  const ErrorRegion = ({ className = '' }) => (\n    <div\n      ref={errorRef}\n      role=\"alert\"\n      className={`error-message ${className}`}\n      aria-atomic=\"true\"\n    />\n  );\n\n  return { showError, clearError, ErrorRegion };\n};\n\n/**\n * 進捗状況の管理フック\n */\nexport const useProgress = () => {\n  const progressRef = useRef(null);\n\n  const updateProgress = (current, total, label = '') => {\n    if (progressRef.current) {\n      const percentage = Math.round((current / total) * 100);\n      progressRef.current.setAttribute('aria-valuenow', current);\n      progressRef.current.setAttribute('aria-valuemax', total);\n      progressRef.current.setAttribute('aria-valuetext', \n        `${label} ${percentage}% 完了 (${current} / ${total})`\n      );\n    }\n  };\n\n  const ProgressBar = ({ className = '', label = '進捗' }) => (\n    <div\n      ref={progressRef}\n      role=\"progressbar\"\n      aria-label={label}\n      aria-valuenow={0}\n      aria-valuemin={0}\n      aria-valuemax={100}\n      className={`progress-bar ${className}`}\n    />\n  );\n\n  return { updateProgress, ProgressBar };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}